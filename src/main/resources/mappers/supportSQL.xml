<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="data.support.SupportMapper">
	<insert id="insertSupportData" parameterType="sptdto">
		insert into support (idx, id, email, price, addr) 
		values (#{idx}, #{id}, #{email}, #{price}, #{addr})
	</insert>
	<update id="addSupporter" parameterType="int">
		update project set number_support=number_support+1 where idx=#{idx}
	</update>
	<update id="addTotalAmount" parameterType="int">
		update project set total_amount=total_amount+10000 where idx=#{idx}
	</update>
	<update id="addSupportProject" parameterType="HashMap">
		update member set support_project=#{idx} where id=#{id}
	</update>
	<select id="getEmail" parameterType="String" resultType="String">
		select email from member where id=#{id};
	</select>
	<select id="getAddr" parameterType="String" resultType="String">
		select addr,addr2 from delivery where id=#{id} and pin=1;
	</select>
</mapper>